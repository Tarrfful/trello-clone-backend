# Trello Clone Backend

Это надежный и многофункциональный бэкенд для сервиса управления проектами (аналог Trello), разработанный в качестве портфолио-проекта. Приложение реализует сложную бизнес-логику, включая асинхронную обработку событий и кеширование, а также предоставляет безопасный и документированный REST API.

## Стек Технологий

*   **Java 17+**
*   **Spring Boot 3.x**
*   **Spring Security:** Аутентификация и авторизация на основе JWT.
*   **Spring Data JPA (Hibernate):** ORM для взаимодействия с базой данных.
*   **Spring Kafka:** Для асинхронной, событийно-ориентированной архитектуры.
*   **Spring Cache:** Абстракция для кеширования.
*   **PostgreSQL:** Основная реляционная база данных.
*   **Redis:** In-memory хранилище для кеширования ответов API.
*   **Apache Kafka:** Распределенный брокер сообщений для обработки событий.
*   **Docker & Docker Compose:** Контейнеризация и оркестрация всей инфраструктуры (PostgreSQL, Kafka, Redis).
*   **Testcontainers:** Для надежных и изолированных интеграционных тестов.
*   **Lombok:** Для сокращения шаблонного кода.
*   **Maven:** Система сборки проекта.
*   **Springdoc (Swagger UI):** Для генерации интерактивной документации API.

## Основные Фичи

*   **Аутентификация и Авторизация:** Полный цикл регистрации и входа пользователей с выдачей и валидацией JWT.
*   **Управление досками:** Полный CRUD для досок, приглашение и удаление участников с проверкой прав (только владелец).
*   **Управление колонками:** Полный CRUD для колонок в рамках доски, включая управление порядком.
*   **Управление задачами:** Полный CRUD для задач, включая сложное D&D-перемещение между колонками с пересчетом порядка.
*   **Управление исполнителями:** Назначение и снятие пользователей с задач с проверкой их членства на доске.
*   **Комментарии:** Полный CRUD для комментариев к задачам с проверкой авторства.
*   **Асинхронная Лента Активности (Kafka):** Все ключевые действия (создание/перемещение задач, добавление участников и т.д.) публикуются как события в Kafka. Отдельный сервис-консьюмер асинхронно обрабатывает эти события и сохраняет их в базу данных, не замедляя основной API.
*   **Кеширование (Redis):** Часто запрашиваемые, но редко изменяемые данные (например, список досок пользователя) кешируются в Redis для снижения нагрузки на базу данных и ускорения ответов API. Кеш автоматически инвалидируется при любых изменениях.

## Настройка и Запуск

Для запуска проекта на локальной машине необходимо иметь установленные **JDK 17+**, **Maven** и **Docker Desktop**.

1.  **Склонируйте репозиторий:**
    ```bash
    git clone https://github.com/Tarrfful/trello-clone-backend.git
    cd trello-clone-backend
    ```

2.  **Создайте конфигурационный файл:**
    В корне проекта создайте файл `local.properties` и добавьте в него следующие переменные, необходимые для локального запуска:
    ```properties
    # Пароль для пользователя 'postgres' в базе данных
    DB_PASSWORD=your_password_here

    # Секретный ключ для подписи JWT (можно сгенерировать онлайн, 256-bit)
    JWT_SECRET=your_super_long_and_secret_jwt_key_here
    ```

3.  **Запустите инфраструктуру:**
    Убедитесь, что Docker Desktop запущен, и выполните команду:
    ```bash
    docker-compose up -d
    ```
    Эта команда в фоновом режиме поднимет контейнеры с PostgreSQL, Zookeeper, Kafka и Redis.

4.  **Запустите приложение:**
    Проект можно запустить как обычное Spring Boot приложение через вашу IDE или с помощью Maven:
    ```bash
    ./mvnw spring-boot:run
    ```

Приложение будет доступно по адресу `http://localhost:8080`.

## Документация API

После запуска приложения интерактивная документация Swagger UI будет доступна по ссылке:

[http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)

Через Swagger UI можно протестировать все эндпоинты, включая получение JWT-токена для доступа к защищенным ресурсам.